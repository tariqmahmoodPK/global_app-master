{"version":3,"file":"authorizenet_embed.js","sources":["../../../apps/authorizenet/authorizenet/templates/includes/integrations/authorizenet/process.js","../../../apps/authorizenet/authorizenet/public/js/authorizenet_embed.js"],"sourcesContent":["frappe.provide(\"frappe.integration_service\")\n\nfrappe.integration_service.authorizenet_gateway = Class.extend({\n\tcard_fields: {\n\t\t\"authorizenet_name\": \"name_on_card\",\n\t\t\"authorizenet_number\": \"card_number\",\n\t\t\"authorizenet_code\": \"card_code\",\n\t\t\"authorizenet_exp_month\": \"exp_month\",\n\t\t\"authorizenet_exp_year\": \"exp_year\",\n\t\t\"authorizenet_store_payment\": \"store_payment\",\t\t\n\t},\n\tbilling_fields:{\n\t\t\"authorizenet_bill_line1\": \"address\",\n\t\t\"authorizenet_bill_city\": \"city\",\n\t\t\"authorizenet_bill_state\": \"state\",\n\t\t\"authorizenet_bill_pincode\": \"zip\",\n\t\t\"authorizenet_bill_country\": \"country\",\n\t\t\"auth_email\":\"auth_email\"\n\t},\n\n\tinit: function(addressForm, embedForm, selector) {\n\t\tthis.addressForm = addressForm;\n\t\tthis.selector = selector;\n\t},\n\n\tcollect_billing_info: function() {\n\t\tvar billing_info = {};\n\t\t// collect billing field value  \n\t\t//if ( this.addressForm ) {\n\t\t\tfor(var field in this.billing_fields) {\n\t\t\t\tvar $field = $('#'+field);\n\t\t\t\tbilling_info[this.billing_fields[field]] = $field.val();\n\t\t\t\tif ( billing_info[this.billing_fields[field]] !== undefined && typeof billing_info[this.billing_fields[field]] == \"string\" ) {\n\t\t\t\t\t// no empty data allowed\n\t\t\t\t\tbilling_info[this.billing_fields[field]] = billing_info[this.billing_fields[field]].trim();\n\t\t\t\t}\n\t\t\t}\n\t\t\t/*var result = this.addressForm.validate();\n\t\t\tbilling_info = $.extend({}, result.address);\n\n\t\t\tif ( $('#authorizenet_zipcode').length > 0 ) {\n\t\t\t\tbilling_info[\"pincode\"] = $('#authorizenet_zipcode').val();\n\t\t\t}*/\n\t\t//}\n\n\t\treturn billing_info;\n\t},\n\tcollect_card_info: function() {\n\t\tvar card_info = {};\n\n\t\t// check if store payment was selected\n\t\tvar stored_payment_option = $('input[name=\"authorizednet-stored-payment\"]:checked').val();\n\t\tif ( stored_payment_option !== undefined && stored_payment_option != \"none\" ) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// collect card field values\n\t\tfor(var field in this.card_fields) {\n\t\t\tvar $field = $('#'+field);\n\t\t\tif ( $field.attr('type') == 'checkbox' ) {\n\t\t\t\tcard_info[this.card_fields[field]] = $field.is('checked');\n\t\t\t} else {\n\t\t\t\tcard_info[this.card_fields[field]] = $field.val();\n\t\t\t}\n\n\t\t\t// clean up string\n\t\t\tif ( card_info[this.card_fields[field]] !== undefined && typeof card_info[this.card_fields[field]] == \"string\" ) {\n\t\t\t\t// no empty data allowed\n\t\t\t\tcard_info[this.card_fields[field]] = card_info[this.card_fields[field]].trim();\n\t\t\t}\n\t\t}\n\n\t\treturn card_info;\n\t},\n\n\tcollect_stored_payment_info: function() {\n\t\tvar $input = $('input[name=\"authorizednet-stored-payment\"]:checked');\n\t\tvar auth_email=$('#auth_email').val();\n\t\tvar stored_payment_option = $input.val();\n\t\tif ( stored_payment_option == \"none\"  || stored_payment_option == undefined) { \n\t\t\treturn null; \n\t\t}else{       \n\t\t\tvar stored_payment=stored_payment_option.split(\"/\")\t\t\n\t\t\treturn {\n\t\t\t\t\"payment_id\": stored_payment[0],\n\t\t\t\t\"address_name\": $input.attr(\"data-address\"),\n\t\t\t\t\"shipping_id\":\"\",\n\t\t\t\t\"auth_email\":auth_email,\n\t\t\t\t\"name_on_card\":stored_payment[1]?stored_payment[1]:\"\",\n\t\t\t}\n\t\t}\n\t},\n\n\tform: function() {\n\t\tvar base = this;\n\n\t\t// Handle removal of stored payments\n\t\t$('.btn-stored-payment-remove').click(function() {\n\t\t\tvar stored_payment = $(this).attr('data-id');\n\t\t\tvar $input = $(this).closest('.field').find('input[name=\"authorizednet-stored-payment\"]');\n\t\t\t// sanity check, only allow removing on active selection\n\t\t\tif ( !$input.is(':checked') ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( confirm(\"Permanently remove stored payment?\") ) {\n\t\t\t\t$('input[name=\"authorizednet-stored-payment\"][value=\"none\"]').prop('checked', true);\n\t\t\t\t$('input[name=\"authorizednet-stored-payment\"][value=\"none\"]').trigger('change');\n\t\t\t\t$(this).closest('.field').remove();\n\t\t\t\treturn frappe.call({\n\t\t\t\t\tmethod: 'frappe.client.delete',\n\t\t\t\t\targs: {\n\t\t\t\t\t\tdoctype: \"AuthorizeNet Stored Payment\",\n\t\t\t\t\t\tname: stored_payment\n\t\t\t\t\t},\n\t\t\t\t\tcallback: function() {\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// handle displaying manual payment information forms\n\t\t$('input[name=\"authorizednet-stored-payment\"]').change(function() {\n\t\t\tif ( $(this).val() != 'none' ) {\n\t\t\t\t$('#authorizenet-manual-info').slideUp('slow');\n\t\t\t} else {\n\t\t\t\t$('#authorizenet-manual-info').slideDown('slow');\n\t\t\t\t$('#authorizenet-manual-info input:first').focus();\n\t\t\t}\n\t\t});\n\n\t\t// initially copy all field values on checkbox change\n\t\t$('#authorizenet_address_same_as').change(function() {\n\t\t\tvar addr_src = $(this).attr('data-source');\n\t\t\tif ( $(this).is(':checked') ) {\n\t\t\t\t$(addr_src).find('[data-type]').each(function() {\n\t\t\t\t\tvar name = $(this).attr('data-type');\n\t\t\t\t\tvar value = $(this).val();\n\t\t\t\t\t$('.authorizenet-form .field [data-type=\"'+name+'\"]').val(value);\n\t\t\t\t\t$('.authorizenet-form .field [data-type=\"'+name+'\"]').prop('disabled', true);\n\t\t\t\t\t$('.authorizenet-form .field [data-type=\"'+name+'\"]').closest('.field').addClass('disabled');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t$('.authorizenet-form .field [data-type]').each(function() {\n\t\t\t\t\t$(this).prop('disabled', false);\n\t\t\t\t\t$(this).closest('.field').removeClass('disabled');\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\n\t\t// then track all changes on source fields\n\t\tif ( $('#authorizenet_address_same_as').length > 0 ) {\n\t\t\tvar addr_src = $('#authorizenet_address_same_as').attr('data-source');\n\t\t\t$(addr_src).on('field-change', function(e, field) {\n\t\t\t\tif ( $('#authorizenet_address_same_as').is(':checked') ) {\n\t\t\t\t\t$('.authorizenet-form .field [data-type=\"'+field.name+'\"]').val(field.value);\n\t\t\t\t\t$('.authorizenet-form .field [data-type=\"'+field.name+'\"]').prop('disabled', true);\n\t\t\t\t\t$('.authorizenet-form .field [data-type=\"'+field.name+'\"]').closest('.field').addClass('disabled');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$('.authorizenet-form .field').each(function() {\n\t\t\t$(this).find('input, select').change(function() {\n\t\t\t\tif ( base.selector ) {\n\t\t\t\t\tbase.selector.validate();\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\n\t\t// handle smart placeholder labels\n\t\t$('.authorizenet-form .field').each(function() {\n\t\t\tvar $field = $(this);\n\t\t\tvar $input = $(this).find('input:first, select:first');\n\n\t\t\t$input\n\t\t\t\t.change(function() {\n\t\t\t\t\tif ( $(this).val() ) {\n\t\t\t\t\t\t$field.addClass('hasvalue');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$field.removeClass('hasvalue');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.keyup(function() {\n\t\t\t\t\tif ( $(this).val() ) {\n\t\t\t\t\t\t$field.addClass('hasvalue');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$field.removeClass('hasvalue');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.blur(function() {\n\t\t\t\t\t$field.removeClass('focus');\n\t\t\t\t})\n\t\t\t\t.focus(function() {\n\t\t\t\t\t$field.addClass('focus');\n\t\t\t\t});\n\t\t});\n\n\t\tvar limit_digit_input = function(length) {\n\t\t\tvar value = $(this).val();\n\t\t\tvar clean = value.replace(/[^\\d]/, \"\");\n\t\t\tif ( clean.length > length ) {\n\t\t\t\tclean = clean.substring(0, length);\n\t\t\t}\n\n\t\t\tif ( value != clean ) {\n\t\t\t\t$(this).val(clean);\n\t\t\t}\n\t\t};\n\n\t\t$('#authorizenet_exp_month').on(\"change keyup\", function() {\n\t\t\tlimit_digit_input.bind(this)(2);\n\t\t});\n\n\t\t$('#authorizenet_exp_year').on(\"change keyup\", function() {\n\t\t\tlimit_digit_input.bind(this)(4);\n\t\t});\n\n\t\t$('#authorizenet_code').on(\"change keyup\", function() {\n\t\t\tlimit_digit_input.bind(this)(4);\n\t\t})\n\n\t\t$('.authorizenet-form [data-magic-month]').each(function() {\n\t\t\tvar $target = $($(this).attr('data-magic-month'));\n\t\t\tvar $month = $(this);\n\n\t\t\t$target.change(function() {\n\t\t\t\tvar year = $target.find(\":selected\").val();\n\t\t\t\tvar today = new Date();\n\n\t\t\t\tif ( year == today.getFullYear() ) {\n\t\t\t\t\tvar this_month = today.getMonth() + 1;\n\t\t\t\t\tvar selected_month = $month.find(\":selected\").attr(\"value\");\n\n\t\t\t\t\t$month.find(\"option\").each(function() {\n\t\t\t\t\t\tvar value = parseInt($(this).attr(\"value\"));\n\t\t\t\t\t\tif ( value < this_month ) {\n\t\t\t\t\t\t\t$(this).hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif ( selected_month < this_month ) {\n\t\t\t\t\t\tvar select = (\"0\"+this_month).slice(-2);\n\t\t\t\t\t\t$month.val(select);\n\t\t\t\t\t\t$month.change();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$month.find(\"option\").show();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$target.change();\n\t\t});\n\n\t},//\tmethod: \"authorizenet.templates.pages.integrations.authorizenet_checkout.test_function\",\n\t\t\t\n\t/*process_test:function(reference_docname){\n\t\tfrappe.call({    \n\t\t\tmethod: \"authorizenet.utils.get_line_items\",\n\t\t\tfreeze: 1,\n\t\t\tfreeze_message: \"Processing Order. Please Wait...\",\n\t\t\targs: {\n\t\t\t\t'reference_doctype':'Payment Request',\n\t\t\t\t'reference_docname':'PR00026-3'\n\t\t\t},\n\t\t\tcallback:function(r){  \n\t\t\t\tconsole.log(r.message)\n\t\t\t}\n\t\t})\t                                                        \n\t},*/\n\tprocess_card: function(card_info, billing_info, stored_payment_options, request_name, callback) {\n\t\tthis._process({\n\t\t\tcard_info: card_info,\n\t\t\tbilling_info: billing_info,\n\t\t\tauthorizenet_profile: stored_payment_options\n\t\t}, request_name, callback);\n\t},  \n\t_process: function(data, request_name, callback) {\n\t\tfrappe.call({\n\t\t\tmethod: \"authorizenet.authorizenet.doctype.authorizenet_settings.authorizenet_settings.process\",\n\t\t\tfreeze: 1,\n\t\t\tfreeze_message: \"Processing Order. Please Wait...\",\n\t\t\targs: {\n\t\t\t\toptions: data,\n\t\t\t\trequest_name: request_name\n\t\t\t},\n\t\t\tcallback:function(r){  \n\t\t\t\tconsole.log(r)\n\t\t\t}\n\t\t})\n\t\t.done(function(data, textStatus, xhr) {\n\t\t\tif(typeof data === \"string\") data = JSON.parse(data);\n\t\t\tvar status = xhr.statusCode().status;\n\n\t\t\tvar result = data;\n\t\t\tif ( result.message.status == \"Completed\" ) {\n\t\t\t\tcallback(null, result.message);\n\t\t\t} else {\n\t\t\t\tvar errors = [];\n\t\t\t\tif ( result.message.error.constructor != Array ) {\n\t\t\t\t\terrors.push(result.message.error);\n\t\t\t\t} else {\n\t\t\t\t\terrors = result.message.error;\n\t\t\t\t}\n\n\t\t\t\tcallback({\n\t\t\t\t\terrors: errors,\n\t\t\t\t\tstatus: status,\n\t\t\t\t\trecoverable: result.recoverable || false,\n\t\t\t\t\txhr: xhr,\n\t\t\t\t\ttextStatus: textStatus\n\t\t\t\t}, null);\n\t\t\t}\n\t\t})\n\t\t.fail(function(xhr, textStatus) {\n\t\t\tif(typeof data === \"string\") data = JSON.parse(data);\n\t\t\tvar status = xhr.statusCode().status;\n\t\t\tvar errors = [];\n\t\t\tvar _server_messages = null;\n\t\t\tif (xhr.responseJSON && xhr.responseJSON._server_messages) {\n\t\t\t\ttry {\n\t\t\t\t\t_server_messages = JSON.parse(xhr.responseJSON._server_messages);\n\t\t\t\t} catch(ex) {\n\t\t\t\t\terrors.push(ex)\n\t\t\t\t\t_server_messages = [xhr.responseJSON._server_messages];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar errors = [];\n\t\t\tif ( _server_messages && _server_messages.constructor == Array ) {\n\t\t\t\ttry {\n\t\t\t\t\tfor(var i = 0; i < _server_messages.length; i++) {\n\t\t\t\t\t\tvar msg;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tmsg = JSON.parse(_server_messages[i]);\n\t\t\t\t\t\t\tif ( msg.message ) {\n\t\t\t\t\t\t\t\tmsg = msg.message;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch(ex) {\n\t\t\t\t\t\t\tmsg = ex\n\t\t\t\t\t\t}\n\t\t\t\t\t\terrors.push(\"Server Error: \" + msg);\n\t\t\t\t\t}\n\t\t\t\t} catch(ex) {\n\t\t\t\t\terrors.push(_server_messages);\n\t\t\t\t\terrors.push(ex);\n\t\t\t\t}\n\t\t\t}else if ( _server_messages && _server_messages.exc ) {\n\t\t\t\terrors.push(_server_messages.exc);\n\t\t\t}\n\n\t\t\tcallback({\n\t\t\t\terrors: errors,\n\t\t\t\tstatus: status,\n\t\t\t\trecoverable: 0,\n\t\t\t\txhr: xhr,\n\t\t\t\ttextStatus: textStatus\n\t\t\t}, null);\n\t\t});\n\n\t},\n\n\t/**\n\t * Collects all authnet fields necessary to process payment\n\t */\n\tcollect: function() {\n\t\tvar billing_info = this.collect_billing_info();\n\t\tvar card_info = this.collect_card_info();\n\t\tvar stored_payment_options = this.collect_stored_payment_info();\n\t\tthis.process_data = {\n\t\t\tcard_info: card_info,\n\t\t\tbilling_info: billing_info,\n\t\t\tauthorizenet_profile: stored_payment_options\n\t\t}\n\t},\n\n\tvalidate: function() {\n\t\tthis.collect();\n\t\t//TODO: Validate fields\n\t\tvar valid = true;\n\t\tvar error = {};\n\t\tvar address = {};\n\n\t\t// stored payment path\n\t\tif ( this.process_data.authorizenet_profile &&\n\t\t\t\t this.process_data.authorizenet_profile.payment_id ) {\n\t\t\tvalid = true;\n\t\t\taddress[\"address\"] = this.process_data.authorizenet_profile.address_name;\n\t\t} else {\n\t\t\t// manual entry path\n\t\t\tif ( !this.process_data.card_info.name_on_card ) {\n\t\t\t\tvalid = false;\n\t\t\t\terror['authorizenet_name'] = \"Credit Card Name is required\";\n\t\t\t}\n\n\t\t\tif ( !this.process_data.card_info.card_number ) {\n\t\t\t\tvalid = false;\n\t\t\t\terror['authorizenet_number'] = \"Credit Card Number is required\";\n\t\t\t}\n\n\t\t\tif ( !this.process_data.card_info.card_code ) {\n\t\t\t\tvalid = false;\n\t\t\t\terror['authorizenet_code'] = \"Security Code is required\";\n\t\t\t}\n\n\t\t\tif ( !this.process_data.card_info.exp_month ) {\n\t\t\t\tvalid = false;\n\t\t\t\terror['authorizenet_exp_month'] = \"Exp Month is required\";\n\t\t\t}\n\n\t\t\tif ( !this.process_data.card_info.exp_year ) {\n\t\t\t\tvalid = false;\n\t\t\t\terror['authorizenet_exp_year'] = \"Exp Year is required\";\n\t\t\t}\n\n\t\t\tif ( this.selector.is_backend ) {\n\t\t\t\tif ( !this.process_data.billing_info.pincode ) {\n\t\t\t\t\tvalid = false;\n\t\t\t\t\terror['authorizenet_bill_pincode'] = \"Postal Code is required\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( this.process_data.billing_info && !this.selector.is_backend ) {\n\t\t\t\tif ( !this.process_data.billing_info.address_1 ) {\n\t\t\t\t\tvalid = false;\n\t\t\t\t\terror['authorizenet_bill_line1'] = \"Address line 1 is required\";\n\t\t\t\t}\n\n\t\t\t\tif ( !this.process_data.billing_info.city ) {\n\t\t\t\t\tvalid = false;\n\t\t\t\t\terror['authorizenet_bill_city'] = \"City is required\";\n\t\t\t\t}\n\n\t\t\t\tif ( !this.process_data.billing_info.pincode ) {\n\t\t\t\t\tvalid = false;\n\t\t\t\t\terror['authorizenet_bill_pincode'] = \"Postal Code is required\";\n\t\t\t\t}\n\n\t\t\t\tif ( !this.process_data.billing_info.country ) {\n\t\t\t\t\tvalid = false;\n\t\t\t\t\terror['authorizenet_bill_country'] = \"Postal Code is required\";\n\t\t\t\t}\n\n\t\t\t\t// copy address for awc\n\t\t\t\tfor(var key in this.process_data.billing_info) {\n\t\t\t\t\taddress[key] = this.process_data.billing_info[key]\n\t\t\t\t}\n\t\t\t} else if ( !this.selector.is_backend ) {\n\t\t\t\tvalid = false;\n\t\t\t}\n\t\t} // eof-manual entry path\n\n\t\treturn {\n\t\t\tvalid: valid,\n\t\t\terrors: error,\n\t\t\taddress: address\n\t\t}\n\t}\n\n});\n","frappe.provide(\"frappe.gateway_selector\")\n\nfrappe.gateway_selector.authorizenet_embed =  frappe.integration_service.authorizenet_gateway.extend({\n  _initialized: false,\n\n  /**\n   * Called when the form is displayed\n   */\n  show: function() {\n    if ( !this._initialized ) {\n      this.form('');\n    }\n\n    $('#gateway-selector-continue').text(\"Submit Payment\");\n  },\n\n  /**\n   * Called when the form is hidden\n   */\n  hide: function() {\n    // form was hidden\n  },\n\n  /**\n   * Process card. Requires a callback function of the form (err, data).\n   *\n   * When err is not undefined, the payment processing failed. Err should have\n   * information about the error.\n   *\n   * When data is not undefined, the payment processing was successful. Data\n   * should return an object of the form:\n   * {\n   *    redirect_to: <success url>,\n   *    status: <status string from Integration Request doctype>\n   * }\n   */\n  process: function(overrides, callback) {\n    var data = Object.assign({}, this.process_data, overrides);\n    this._process(data, null, callback);\n  },\n\n  getSummary: function() {\n    this.collect()\n\n    var stored_payment_label = false;\n    if ( this.process_data.authorizenet_profile && this.process_data.authorizenet_profile.payment_id ) {\n      stored_payment_label = $('input[name=\"authorizednet-stored-payment\"]:checked').siblings('.long-text').html();\n    }\n\n    return frappe.render(frappe.templates.authorizenet_summary, Object.assign({\n        store_payments: $('#authorizenet_store_payment').is(':checked'),\n        stored_payment_label: stored_payment_label\n      }, this.process_data));\n  }\n\n});\n"],"names":[],"mappings":"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"}